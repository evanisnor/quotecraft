# Decisions — February 28, 2026

## Task: INFR-US6-A008 — Update developer documentation and ensure Makefiles support a complete development experience

**Requirements:** 1.8.5

### Decisions

**`widget-build` added to root Makefile**

A `make widget-build` target was added to the root Makefile, delegating to `$(MAKE) -C widget build`. This follows the existing pattern for database targets (`$(MAKE) -C api db-migrate`). The target allows a developer to build the production widget bundle (content-hashed) without starting the full dev stack.

**`services-up` comment updated to mention MinIO**

The `services-up` comment previously said "(PostgreSQL)". Since A003 added MinIO to Docker Compose, the comment was updated to "(PostgreSQL, MinIO)" to accurately reflect what the target starts. This is documentation accuracy, not a behavior change.

**README updated in place (not replaced)**

An existing `README.md` was found at the repo root. It was updated rather than replaced: MinIO was added to the dev stack description, `make widget-build` was added to the commands table, and three new sections were added (Development URLs, Widget Bundle, Configuration). The new sections cover the full CDN local-dev workflow introduced by INFR-US6 A003–A007.

**Widget bundle URL annotated for context**

The "Development URLs" table entry for the widget bundle includes "(when `make dev` is running)" because the URL is only valid when both the API server and widget watch process are active. This prevents developer confusion if the URL is tried before `make dev`.

**Configuration table mirrors config.yaml directly**

The Configuration section documents `cdn.serve_local`, `cdn.widget_dir`, `cdn.base_url`, and `storage.provider` with their exact default values from `config.yaml`. This avoids documentation drift — the table is easy to verify against the source of truth.

### Technical Challenges

**INFR-US6-A008 was missing from PROJECT_STATUS.md** — the task was listed in PROJECT_PLAN.md but not in the status tracking file. Added it with `✅ 2026-02-28` as part of this commit.
